Voici **les critÃ¨res dâ€™acceptation pour *chaque* story**, structurÃ©s proprement, exhaustifs et adaptÃ©s au pÃ©rimÃ¨tre ContainerLab FE.
Je fournis **uniquement les critÃ¨res**, comme demandÃ© â€” tout est prÃªt Ã  injecter dans Jira ou Linear.

---

# âœ… **THÃˆME 1 â€” Topology Builder & Visualisation**

---

## **EPIC : Construction et visualisation des topologies**

---

### **STORY 1 â€” Visualisation dâ€™une topologie en graphe**

**En tant que** utilisateur
**Je veux** visualiser une topologie rÃ©seau sous forme de graphe interactif
**Afin** de comprendre lâ€™architecture, les relations entre nÅ“uds et lâ€™Ã©tat du lab.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Le systÃ¨me affiche un graphe dÃ¨s quâ€™une topologie valide est chargÃ©e.
- Les nÅ“uds sâ€™affichent avec un nom, une icÃ´ne et un type (kind).
- Les liens sont visibles et connectent les bons nÅ“uds.
- Lâ€™utilisateur peut dÃ©placer (drag) les nÅ“uds sans casser les liens.
- Lâ€™utilisateur peut cliquer un nÅ“ud pour afficher ses propriÃ©tÃ©s.
- Le graphe se met Ã  jour automatiquement si la topologie change.
- Le layout respecte un algorithme lisible (force, circle, grid).
- Lâ€™affichage fonctionne sur Chrome, Firefox, Edge.

---

### **STORY 2 â€” Construire une topologie depuis le front**

**En tant que** utilisateur
**Je veux** crÃ©er et modifier une topologie directement dans lâ€™interface
**Afin** de prÃ©parer un lab complet sans Ã©crire de YAML manuellement.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Lâ€™utilisateur peut ajouter un nÅ“ud avec un formulaire dÃ©diÃ©.
- Lâ€™utilisateur peut supprimer un nÅ“ud et tous ses liens associÃ©s.
- Le front empÃªche la crÃ©ation de doublons de noms de nÅ“uds.
- Lâ€™utilisateur peut crÃ©er un lien visuellement (A â†’ B).
- La topologie interne (JSON) reflÃ¨te fidÃ¨lement le graphe affichÃ©.
- Le systÃ¨me valide les champs obligatoires (kind, name).
- Tout changement apparaÃ®t instantanÃ©ment dans lâ€™UI.

---

### **STORY 3 â€” Importer une topologie existante**

**En tant que** utilisateur
**Je veux** charger un fichier YAML/containerlab
**Afin** de visualiser et modifier une topologie existante.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Lâ€™utilisateur peut sÃ©lectionner un fichier YAML Ã  importer.
- Le fichier est validÃ© (syntaxe, sections attendues).
- En cas de mauvaise structure, un message dâ€™erreur clair est affichÃ©.
- La topologie importÃ©e est automatiquement affichÃ©e dans le graphe.
- Les propriÃ©tÃ©s des nÅ“uds importÃ©s sont accessibles et Ã©ditables.
- Le graphe est cohÃ©rent avec le YAML chargÃ©.
- 
---

# âœ… **THÃˆME 2 â€” Orchestration & Cycle de vie**

---

## **EPIC : DÃ©ploiement & Gestion du lab**

---

### **STORY 4 â€” DÃ©ployer un lab**

**En tant que** utilisateur
**Je veux** dÃ©ployer la topologie que jâ€™ai construite
**Afin** de lancer automatiquement lâ€™ensemble des conteneurs rÃ©seau.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Un bouton â€œDÃ©ployerâ€ est visible et actif uniquement si la topologie est valide.
- Un appel API `/deploy` est dÃ©clenchÃ© au clic.
- Un indicateur de progression apparaÃ®t.
- En cas dâ€™erreur API, un message clair est affichÃ©.
- Ã€ la fin du dÃ©ploiement, le graphe met Ã  jour les Ã©tats (up/down).
- Lâ€™utilisateur sait si le dÃ©ploiement est rÃ©ussi ou Ã©chouÃ©.

---

### **STORY 5 â€” Stopper ou dÃ©truire un lab**

**En tant que** utilisateur
**Je veux** arrÃªter ou dÃ©truire un lab
**Afin** de libÃ©rer les ressources et nettoyer mon environnement.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Un bouton â€œStopâ€ et un bouton â€œDestroyâ€ sont disponibles avec confirmation.
- API `/stop` puis `/destroy` sont appelÃ©s selon lâ€™action.
- Lâ€™Ã©tat du lab est mis Ã  jour instantanÃ©ment sur le graphe (offline).
- Lâ€™utilisateur reÃ§oit un feedback visuel (toast).
- En cas dâ€™erreur, le message fournit la cause (lab introuvable, etc.).

---

### **STORY 6 â€” RafraÃ®chir lâ€™Ã©tat dâ€™un lab**

**En tant que** utilisateur
**Je veux** rafraÃ®chir lâ€™Ã©tat des nÅ“uds du lab
**Afin** dâ€™avoir une vision correcte du statut des conteneurs.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Un bouton â€œRefresh statusâ€ est disponible.
- API `/state` est appelÃ©e.
- Les nÅ“uds changent de couleur ou dâ€™icÃ´ne selon leur Ã©tat rÃ©el.
- Les nÅ“uds nouvellement crÃ©Ã©s apparaissent sâ€™ils sont dÃ©tectÃ©s.
- Les erreurs API sont gÃ©rÃ©es sans bloquer lâ€™UI.

---

# âœ… **THÃˆME 3 â€” Administration des nÅ“uds et liens**

---

## **EPIC : Gestion des composants rÃ©seau**

---

### **STORY 7 â€” Modifier les propriÃ©tÃ©s dâ€™un nÅ“ud**

**En tant que** utilisateur
**Je veux** modifier les propriÃ©tÃ©s dâ€™un nÅ“ud (kind, image, mgmt, labels)
**Afin** dâ€™adapter prÃ©cisÃ©ment sa configuration rÃ©seau.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Un panneau latÃ©ral sâ€™ouvre quand un nÅ“ud est sÃ©lectionnÃ©.
- Les propriÃ©tÃ©s sont modifiables (kind, image, mgmtâ€¦).
- Le systÃ¨me empÃªche la sauvegarde dâ€™un nom dÃ©jÃ  existant.
- La modification se reflÃ¨te immÃ©diatement dans le graphe.
- Les erreurs (image invalide, champ vide) sont affichÃ©es.

---

### **STORY 8 â€” CRUD des liens**

**En tant que** utilisateur
**Je veux** crÃ©er, Ã©diter et supprimer les liens entre les nÅ“uds
**Afin** de contrÃ´ler prÃ©cisÃ©ment les relations rÃ©seau.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Lâ€™utilisateur peut crÃ©er un lien en sÃ©lectionnant 2 nÅ“uds ou via drag.
- Lâ€™utilisateur peut modifier les interfaces utilisÃ©es.
- Un lien peut Ãªtre supprimÃ© individuellement.
- Les incohÃ©rences (interface dÃ©jÃ  utilisÃ©e) sont bloquÃ©es.
- Le graphe se met Ã  jour dynamiquement.

---

### **STORY 9 â€” Associer une configuration Ã  un nÅ“ud**

**En tant que** utilisateur
**Je veux** uploader un fichier de configuration pour un nÅ“ud
**Afin** quâ€™il soit appliquÃ© automatiquement au dÃ©ploiement.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Un bouton â€œImporter configurationâ€ est disponible pour chaque nÅ“ud.
- Le fichier est chargÃ©, validÃ© et liÃ© au nÅ“ud.
- Le contenu apparaÃ®t dans la JSON/YAML finale.
- Si le fichier est invalide, un message dâ€™erreur apparaÃ®t.

---

# âœ… **THÃˆME 4 â€” Monitoring & ObservabilitÃ©**

---

## **EPIC : Suivi et diagnostic temps rÃ©el**

---

### **STORY 10 â€” Voir lâ€™Ã©tat des nÅ“uds en temps rÃ©el**

**En tant que** utilisateur
**Je veux** voir lâ€™Ã©tat (up/down) des nÅ“uds en direct
**Afin** de diagnostiquer en un coup d'Å“il le lab.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- L'Ã©tat est mis Ã  jour au minimum toutes les X secondes (polling configurable).
- Le graphe affiche un indicateur visuel (couleur / icÃ´ne).
- Une erreur API nâ€™empÃªche pas la continuitÃ© du monitoring.
- Un panneau rÃ©capitulatif affiche lâ€™Ã©tat global du lab.

---

### **STORY 11 â€” Consulter les logs dâ€™un nÅ“ud**

**En tant que** utilisateur
**Je veux** afficher les logs dâ€™un nÅ“ud rÃ©seau
**Afin** dâ€™analyser un comportement ou une erreur.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Un onglet â€œLogsâ€ existe dans les propriÃ©tÃ©s du nÅ“ud.
- Lâ€™appel API `/logs/{node}` renvoie le contenu.
- Le contenu est scrollable, formatÃ© et lisible.
- Lâ€™utilisateur peut filtrer les logs par texte.
- Les erreurs sont affichÃ©es (logs indisponibles).

---

### **STORY 12 â€” ExÃ©cuter des commandes dans un nÅ“ud**

**En tant que** utilisateur
**Je veux** lancer des commandes directement dans un conteneur
**Afin** de diagnostiquer ou tester une configuration.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Lâ€™interface affiche un terminal web (xterm.js).
- L'appel API `/exec` exÃ©cute les commandes.
- La sortie stdout et stderr apparaÃ®t en direct.
- Les erreurs (commande invalide, conteneur down) sont gÃ©rÃ©es.

---

# âœ… **THÃˆME 5 â€” Export & Projets**

---

## **EPIC : Gestion des projets**

---

### **STORY 13 â€” Exporter une topologie**

**En tant que** utilisateur
**Je veux** exporter la topologie sous format YAML
**Afin** de la rÃ©utiliser ou la versionner.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Le YAML gÃ©nÃ©rÃ© doit Ãªtre conforme au standard ContainerLab.
- Le fichier se tÃ©lÃ©charge automatiquement.
- Les nÅ“uds, liens et configs doivent apparaÃ®tre correctement.
- En cas dâ€™erreur (missing mandatory fields), lâ€™export est bloquÃ©.

---

### **STORY 14 â€” Importer une topologie YAML**

**En tant que** utilisateur
**Je veux** importer un fichier YAML
**Afin** de charger une topologie dÃ©jÃ  existante.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Le fichier est validÃ© (syntaxe, schÃ©ma).
- Les erreurs sont affichÃ©es prÃ©cisÃ©ment (ligne, champ).
- Le graphe est mis Ã  jour aprÃ¨s import.
- Le fichier tÃ©lÃ©chargÃ© est stockable localement.

---

### **STORY 15 â€” Navigation UX amÃ©liorÃ©e**

**En tant que** utilisateur
**Je veux** naviguer facilement dans lâ€™interface
**Afin** de travailler efficacement sur mon lab.

#### ğŸ¯ CritÃ¨res dâ€™acceptation

- Lâ€™interface contient un menu latÃ©ral avec les sections (Builder, Labs, Logsâ€¦).
- Lâ€™historique (browser history) fonctionne.
- Lâ€™Ã©tat de l'UI est sauvegardÃ© (localStorage).
- Le thÃ¨me et les prÃ©fÃ©rences sont persistÃ©s.

---

# Si tu veux, je peux maintenant :

âœ… ajouter **la charge, prioritÃ© et taille t-shirt** story par story
âœ… gÃ©nÃ©rer les **tÃ¢ches avec durÃ©e + critÃ¨res dâ€™acceptation individuels**
âœ… crÃ©er un **CSV importable Jira / Linear**
âœ… produire une **roadmap (Gantt)**

Souhaites-tu la prochaine Ã©tape ?
